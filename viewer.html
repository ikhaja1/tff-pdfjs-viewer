<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>TFF External PDF Viewer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <style>
        body {
            margin: 0;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
                sans-serif;
            background: #f3f3f3;
        }
        .wrapper {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: #333;
        }
        code {
            background: #eee;
            padding: 2px 4px;
            border-radius: 3px;
        }
    </style>

    <script>
        (function () {
            function getQueryParam(name) {
                const params = new URLSearchParams(window.location.search);
                return params.get(name);
            }

            const fileUrl = getQueryParam("file");

            // If a file URL is provided, redirect into the real PDF.js viewer
            if (fileUrl) {
                var target =
                    "pdfjs/web/viewer.html?file=" +
                    encodeURIComponent(fileUrl);

                // Full PDF.js UI (toolbar, download, print, etc.)
                window.location.replace(target);
            } else {
                // No file param -> show simple help message
                window.addEventListener("DOMContentLoaded", function () {
                    document.getElementById("msg").style.display = "flex";
                });
            }
        })();
    </script>
</head>
<body>
    <div class="wrapper" id="msg" style="display: none;">
        <div>
            <h2>TFF External PDF Viewer</h2>
            <p>No <code>file</code> URL was provided.</p>
            <p>
                Try opening with a query string, for example:<br />
                <code>
                    ?file=https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf
                </code>
            </p>
        </div>
    </div>
</body>
</html>
